# Crowdsale-Token
The project to build a simple capped crowdsale token using OpenZeppelin-solidity library.

## Getting Started
These instructions will get you a copy of the project up and running on your local machine for development and testing purposes. See deployment for notes on how to deploy the project on a live system.

### Usage
Solidity v0.4.24, 
Truffle v4.1.11

Install necessary dependencies:
```
npm install
```
Ensure you have a development blockchain you can use. For example:
```
npm install -g ganache-cli
ganache-cli
```
## Solution

### Testing
Both ExampleToken.sol and ExampleTokenCrowdsale.sol files were deployed and migrated to ganache using migration file. migrations/2_deploy_contracts.js
```
truffle(development)> token.transferOwnership(sale.address)
```

{ tx:
   '0xf0bd0b27f8c4189244dd74b96c9ce8c6da647b062398ce3de67c86f7401c827f',
  receipt:
   { transactionHash:
      '0xf0bd0b27f8c4189244dd74b96c9ce8c6da647b062398ce3de67c86f7401c827f',
     transactionIndex: 0,
     blockHash:
      '0x57606245bcb8a7fb9fe3ae6a1ce461fdc97e4a7d15ba3356abb09bd0cf4f8984',
     blockNumber: 7,
     from: '0x3eee0474a06fde6c12f1b26d4367ea0954e60f33',
     to: '0x7c6afc1d496a1bf6a7a58ee3090b9ea3944ee063',
     gasUsed: 30626,
     cumulativeGasUsed: 30626,
     contractAddress: null,
     logs: [ [Object] ],
     status: '0x1',
     logsBloom:
      '0x00000000000000000000000000000000000001000000000000800000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000001000000000800000000000000000000000000000000000000000000000000000000008000000000000000000000420000000000000000000000000010400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000',
     v: '0x1c',
     r:
      '0xd696af54456285f4f3374643ff5a10acc0bde33888b23f790877379a9b78601e',
     s:
      '0x3929081c2869092762ee146365730e97b86c4f2200fc43b41dcda55d768f1dc4' },
  logs:
   [ { logIndex: 0,
       transactionIndex: 0,
       transactionHash:
        '0xf0bd0b27f8c4189244dd74b96c9ce8c6da647b062398ce3de67c86f7401c827f',
       blockHash:
        '0x57606245bcb8a7fb9fe3ae6a1ce461fdc97e4a7d15ba3356abb09bd0cf4f8984',
       blockNumber: 7,
       address: '0x7c6afc1d496a1bf6a7a58ee3090b9ea3944ee063',
       type: 'mined',
       event: 'OwnershipTransferred',
       args: [Object] } ] }


```
truffle(development)> sale.buyTokens(web3.eth.accounts[1], {value : new web3.BigNumber(web3.toWei(1, 'ether')) , from : web3.eth.accounts[1]});
```
{ tx:
   '0x3d139441d39a2a6462e2142ac0a4220edee481150d2be250b05e9ebfeb5c2840',
  receipt:
   { transactionHash:
      '0x3d139441d39a2a6462e2142ac0a4220edee481150d2be250b05e9ebfeb5c2840',
     transactionIndex: 0,
     blockHash:
      '0x329600db30a5973b859160581af955514cfa68d53cb3f5fb369f02067aa8e34f',
     blockNumber: 1,
     from: '0x197eaf28856606f5fc5f8427b737b860d5f1d10b',
     to: '0x679053e33fb2e4bf2afb6ba75eec0edd19fb3929',
     gasUsed: 22680,
     cumulativeGasUsed: 22680,
     contractAddress: null,
     logs: [],
     status: '0x1',
     logsBloom:
      '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
     v: '0x1c',
     r:
      '0x17001ccd9f8413bfb2ced0b286b0e2c72905f2924d501c2027b08e810c384e9a',
     s:
      '0x1d2eb6f20bdd2e6cca65722b1c98f2c0f76d6381db95de4266abe5ddf639f908' },
  logs: [] }

```
sale.buyTokens(web3.eth.accounts[1], {value : new web3.BigNumber(web3.toWei(2, 'ether')) , from : web3.eth.accounts[1]});
```
{ tx:
   '0x0e89a88ac931ab9693981456dd1d928eacfdb4f5c7a12b90d96589f18c14ba93',
  receipt:
   { transactionHash:
      '0x0e89a88ac931ab9693981456dd1d928eacfdb4f5c7a12b90d96589f18c14ba93',
     transactionIndex: 0,
     blockHash:
      '0x918300c78aa22430c1b48cbb2ef47e91374122350c66dfad1f473aad06a5a635',
     blockNumber: 2,
     from: '0x197eaf28856606f5fc5f8427b737b860d5f1d10b',
     to: '0x679053e33fb2e4bf2afb6ba75eec0edd19fb3929',
     gasUsed: 22680,
     cumulativeGasUsed: 22680,
     contractAddress: null,
     logs: [],
     status: '0x1',
     logsBloom:
      '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
     v: '0x1c',
     r:
      '0x5e1b5bea7e63d4661bce0f550757ff64968fe7bca4fb44b3c85bb94a363e52eb',
     s:
      '0x09c9eb27fa08193aec4d875919776b5815bc11e2eae3caf8c586c036a0e245d8' },
  logs: [] }


```
sale.buyTokens(web3.eth.accounts[1], {value : new web3.BigNumber(web3.toWei(48, 'ether')) , from : web3.eth.accounts[1]});
```
{ tx:
   '0x4f56117367a5ae2c3f3ddac758d5c7fd8fee2a575443d8283b7b83536c324a0f',
  receipt:
   { transactionHash:
      '0x4f56117367a5ae2c3f3ddac758d5c7fd8fee2a575443d8283b7b83536c324a0f',
     transactionIndex: 0,
     blockHash:
      '0x2d34a66d0cd616814b83c7883a9dc395a61d6f80cbc039cc64e60cdc79e76c22',
     blockNumber: 3,
     from: '0x197eaf28856606f5fc5f8427b737b860d5f1d10b',
     to: '0x679053e33fb2e4bf2afb6ba75eec0edd19fb3929',
     gasUsed: 22680,
     cumulativeGasUsed: 22680,
     contractAddress: null,
     logs: [],
     status: '0x1',
     logsBloom:
      '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
     v: '0x1c',
     r:
      '0x489479e2c2c1a3bca1b222505c0e9f793e4721f477e4157a6af0c789463c267a',
     s:
      '0x3a2c117dc5d7c900f31731bfd42c2e2dee4634e1bb8de7ed31d602a89281ec1d' },
  logs: [] }


```
sale.buyTokens(web3.eth.accounts[1], {value : new web3.BigNumber(web3.toWei(1, 'ether')) , from : web3.eth.accounts[1]});
```
{ tx:
   '0x5f50a0f106f3b48ec540c85a7d8e048ff4a692a9d01c3d4c90ddf6ae4dd43a15',
  receipt:
   { transactionHash:
      '0x5f50a0f106f3b48ec540c85a7d8e048ff4a692a9d01c3d4c90ddf6ae4dd43a15',
     transactionIndex: 0,
     blockHash:
      '0x1a00ff7ce43b26e98855326beebb4fa16b7c403a1ff12591ed3d4c757c27303d',
     blockNumber: 4,
     from: '0x197eaf28856606f5fc5f8427b737b860d5f1d10b',
     to: '0x679053e33fb2e4bf2afb6ba75eec0edd19fb3929',
     gasUsed: 22680,
     cumulativeGasUsed: 22680,
     contractAddress: null,
     logs: [],
     status: '0x1',
     logsBloom:
      '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
     v: '0x1b',
     r:
      '0xa092f3c06abb54243a75d3569277b8eeee76a9718d67827bcde73ff76963c937',
     s:
      '0x4c216122c8fe22586921104cea612e385759e2740494f944643c89725d7ae274' },
  logs: [] }

### Exercise
Parameters are defined in the migration file: 2_deploy_contracts.js

1. In ExampleTokenCrowdsale.sol file, line# 15: Replace '2000000000000000000' by '5000000000000000000'.




-AAROHI SAVALIYA

